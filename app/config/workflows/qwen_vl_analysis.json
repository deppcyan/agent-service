{
    "nodes": {
        "preprocess": {
            "type": "PreprocessNode",
            "inputs": {
                "input": [
                    {
                        "type": "image",
                        "value": "https://watermarked-vidoes.s3.us-west-1.amazonaws.com/why.jpg"
                    }
                ],
                "options": {
                    "prompt": "Analyze this image in detail and describe what you see."
                    
                }
            }
        },
        "image_analysis": {
            "type": "QwenVLNode",
            "inputs": {
                "api_url": "https://50067120bfc96748-8000.us-ca-6.gpu-instance.novita.ai/v1/generate",
                "system_prompt": "输入方式】：参考图 + 文本描述\n【延展目标】：基于上一张图的画面风格、人物外形、光影氛围、镜头语言，生成下一张分镜图，使得剧情延续\n\n保持人物外观一致\n色调光影与参考图统一\n背景元素延续，不突变\n构图具备电影感（景别 / 光影 / 空间层次）\n\n镜头类型（特写 / 中景 / 远景 / 俯拍 / 跟拍 / 环绕 / 侧移 / 拉远）\n镜头运动节奏（慢推 / 快切 / 手持感）\n\n人物发色、身形不变\n服饰延续衔接，不跳变\n动作表情是上一个镜头的自然推进\n背景环境连续递进\n\n高清画面\n电影级光影\n真实材质\n无噪点无畸变\n可作为下一张分镜生成基础\n\n输出时以Next Scene:开头，后面马上接文字。每一段文字是连续的，没有特殊符号，没有多余的解释，每一段文字100字左右，直接输出内容",
                "timeout": 300
            }
        },
        "storyboard_parser": {
            "type": "StoryboardParserNode",
            "inputs": {
                "text": "",
                "image_url": ""
            }
        },
        "edit_batch": {
            "type": "QwenEditBatchNode",
            "inputs": {
                "api_url": "http://192.168.0.238:8000/v1/generate",
                "timeout": 300,
                "callback_url": "http://192.168.0.238:8001/webhook",
                "image_urls": [],
                "prompts": [],
                "width": 768,
                "height": 768
            }
        }
    },
    "connections": [
        {
            "from_node": "preprocess",
            "from_port": "image_url",
            "to_node": "image_analysis",
            "to_port": "image_url"
        },
        {
            "from_node": "preprocess",
            "from_port": "prompt",
            "to_node": "image_analysis",
            "to_port": "prompt"
        },
        {
            "from_node": "image_analysis",
            "from_port": "response",
            "to_node": "storyboard_parser",
            "to_port": "text"
        },
        {
            "from_node": "preprocess",
            "from_port": "image_url",
            "to_node": "storyboard_parser",
            "to_port": "image_url"
        },
        {
            "from_node": "storyboard_parser",
            "from_port": "prompts",
            "to_node": "edit_batch",
            "to_port": "prompts"
        },
        {
            "from_node": "storyboard_parser",
            "from_port": "image_urls",
            "to_node": "edit_batch",
            "to_port": "image_urls"
        }
    ]
}